const fs = require('fs');

function createPNG(size) {
  const header = Buffer.from([
    0x89, 0x50, 0x4E, 0x47, 0x0D, 0x0A, 0x1A, 0x0A,
    0x00, 0x00, 0x00, 0x0D, 0x49, 0x48, 0x44, 0x52,
    (size >> 8) & 0xFF, size & 0xFF,
    (size >> 8) & 0xFF, size & 0xFF,
    0x08, 0x02, 0x00, 0x00, 0x00
  ]);
  
  const crc = Buffer.from([0x6F, 0x15, 0x61, 0xBC]);
  
  const dataLen = size * size * 3 + size;
  const ihdr = Buffer.concat([header, crc]);
  
  const idatHeader = Buffer.from([
    0x00, 0x00, 0x00, 0x0A,
    0x49, 0x44, 0x41, 0x54,
    0x78, 0x9C, 0x62, 0x60, 0x00, 0x00, 0x00, 0x02, 0x00, 0x01
  ]);
  
  const simplePNG = Buffer.concat([
    ihdr,
    idatHeader,
    Buffer.from([0xE5, 0x76, 0x0E, 0x38]),
    Buffer.from([0x00, 0x00, 0x00, 0x00, 0x49, 0x45, 0x4E, 0x44, 0xAE, 0x42, 0x60, 0x82])
  ]);
  
  return simplePNG;
}

[16, 48, 128].forEach(size => {
  const png = createPNG(size);
  fs.writeFileSync(`icon${size}.png`, png);
  console.log(`Created icon${size}.png`);
});
